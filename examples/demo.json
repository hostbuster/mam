{
  "version": 1,
  "randomSeed": 1337,
  "sampleRate": 48000,
  "channels": 2,

  "nodes": [
    {
      "id": "kick1",
      "type": "kick",
      "params": { "f0": 120, "fend": 35, "pitchDecayMs": 55, "ampDecayMs": 220, "gain": 0.9, "click": 0.1, "bpm": 0, "loop": false }
    },
    {
      "id": "bass303",
      "type": "tb303_ext",
      "params": { "waveform": 0, "tune": 0, "glideMs": 25, "cutoff": 900, "resonance": 0.4, "envMod": 0.5, "decay": 220, "ampDecayMs": 200, "gain": 0.8 },
      "mod": {
        "lfos": [ { "id": 1, "wave": "sine", "freqHz": 0.5, "phase": 0.0 } ],
        "routes": [ { "sourceId": 1, "destParam": "CUTOFF_HZ", "min": 300, "max": 2000, "map": "exp" } ]
      }
    },
    {
      "id": "snr1",
      "type": "clap",
      "params": { "ampDecayMs": 180, "gain": 0.85, "bpm": 0, "loop": false },
      "mod": {
        "lfos": [
          { "id": 1, "wave": "sine", "freqHz": 40.0, "phase": 0.0 },
          { "id": 2, "wave": "triangle", "freqHz": 0.2, "phase": 0.0 }
        ],
        "routes": [
          { "sourceId": 1, "destParam": "GAIN", "min": 0.3, "max": 1.1, "map": "linear" },
          { "sourceId": 2, "destParam": "LFO.1.freqHz", "min": 0.5, "max": 8.0, "map": "exp" },
          { "sourceId": 1, "destParam": "LFO.2.phase", "min": 0.0, "max": 1.0, "map": "linear" }
        ]
      }
    },
    { "id": "delay1", "type": "delay", "params": { "delayMs": 2000, "feedback": 0.35, "mix": 1.0 },
      "ports": { "inputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ],
                  "outputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ] } },
    { "id": "delay2", "type": "delay", "params": { "delayMs": 1000, "feedback": 0.25, "mix": 1.0 },
      "ports": { "inputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ],
                  "outputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ] } },
    { "id": "meter1", "type": "meter", "params": { "target": "delay1" } },
    { "id": "rev1", "type": "reverb", "params": { "roomSize": 0.6, "damp": 0.35, "mix": 0.22 },
      "ports": { "inputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ],
                  "outputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ] } },
    { "id": "comp1", "type": "compressor", "params": { "thresholdDb": -2, "ratio": 1.2, "attackMs": 25, "releaseMs": 200, "makeupDb": 0 },
      "ports": { "inputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" }, { "index": 1, "type": "audio", "channels": 1, "role": "sidechain" } ],
                  "outputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ] } }
    ,
    { "id": "wtMono", "type": "wiretap", "params": { "path": "tap_mono.wav", "enabled": true },
      "ports": { "inputs": [ { "index": 0, "type": "audio", "channels": 2, "role": "main" } ],
                  "outputs": [ { "index": 0, "type": "audio", "channels": 1, "role": "main" } ] } }
  ],

  "mixer": {
    "masterPercent": 90,
    "softClip": true,
    "inputs": [
      { "id": "kick1", "gainPercent": 90 },
      { "id": "snr1",  "gainPercent": 65 },
      { "id": "delay2",  "gainPercent": 30 },
      { "id": "comp1",  "gainPercent": 100 },
      { "id": "rev1",   "gainPercent": 35 }
    ]
  },

  "transport": {
    "bpm": 126,
    "lengthBars": 1,
    "resolution": 16,
    "patterns": [
      { "nodeId": "kick1", "steps": "x...x...x...x...",
        "locks": [
          { "step": 0,  "param": "F0",            "value": 120 },
          { "step": 4,  "param": "F0",            "value": 110, "rampMs": 30 },
          { "step": 8,  "param": "F0",            "value": 100 },
          { "step": 12, "param": "F0",            "value": 115, "rampMs": 30 },

          { "step": 0,  "param": "AMP_DECAY_MS", "value": 220 },
          { "step": 8,  "param": "AMP_DECAY_MS", "value": 180, "rampMs": 20 },

          { "step": 0,  "param": "PITCH_DECAY_MS", "value": 55 },
          { "step": 8,  "param": "PITCH_DECAY_MS", "value": 65 },

          { "step": 0,  "param": "GAIN",          "value": 0.90 },
          { "step": 12, "param": "GAIN",          "value": 1.00, "rampMs": 40 }
        ]
      },
      { "nodeId": "snr1",  "steps": "....x...x...x...",
        "locks": [
          { "step": 0,  "param": "LFO1_FREQ_HZ", "value": 4.0 },
          { "step": 4,  "param": "LFO1_FREQ_HZ", "value": 8.0 },
          { "step": 8,  "param": "LFO1_FREQ_HZ", "value": 400.0 },
          { "step": 12, "param": "LFO1_FREQ_HZ", "value": 1400.0 }
        ]
      }
    ]
  },

  "connections": [
    { "from": "kick1",  "to": "delay1", "gainPercent": 70,  "dryPercent": 0, "fromPort": 0, "toPort": 0 },
    { "from": "snr1",   "to": "delay1", "gainPercent": 60,  "dryPercent": 0, "fromPort": 0, "toPort": 0 },
    { "from": "delay1", "to": "delay2", "gainPercent": 100, "dryPercent": 0, "fromPort": 0, "toPort": 0 },
    { "from": "snr1",   "to": "wtMono", "gainPercent": 100, "dryPercent": 0, "fromPort": 0, "toPort": 0 },
    { "from": "wtMono", "to": "rev1",   "gainPercent": 100, "dryPercent": 0, "fromPort": 0, "toPort": 0 },
    { "from": "kick1",  "to": "comp1",  "gainPercent": 60,  "dryPercent": 0, "fromPort": 0, "toPort": 1 }
  ],

  "commands": []
}
